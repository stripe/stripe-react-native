--- android/src/oldarch/java/com/reactnativestripesdk/NativeStripeSdkModuleSpec.java	2025-05-05 16:53:11
+++ android/src/oldarch/java/com/reactnativestripesdk/NativeStripeSdkModuleSpecNew.java	2025-05-05 16:54:44
@@ -1,3 +1,6 @@
+// This is a modified version of the codegen file. Since old arch does not support mEventEmitterCallback
+// we implement event emitting with RCTDeviceEventEmitter.
+// To update this file run ./scripts/old-arch-codegen-android
 
 /**
  * This code was generated by [react-native-codegen](https://www.npmjs.com/package/react-native-codegen).
@@ -20,6 +23,7 @@
 import com.facebook.react.bridge.ReadableArray;
 import com.facebook.react.bridge.ReadableMap;
 import com.facebook.react.common.build.ReactBuildConfig;
+import com.facebook.react.modules.core.DeviceEventManagerModule;
 import com.facebook.react.turbomodule.core.interfaces.TurboModule;
 import java.util.Arrays;
 import java.util.HashSet;
@@ -38,6 +42,16 @@
   @Override
   public @Nonnull String getName() {
     return NAME;
+  }
+
+  private void invoke(String eventName, Object params) {
+    getReactApplicationContext()
+      .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)
+      .emit(eventName, params);
+  }
+
+  private void invoke(String eventName) {
+    invoke(eventName, null);
   }
 
   protected final void emitOnConfirmHandlerCallback(ReadableMap value) {
